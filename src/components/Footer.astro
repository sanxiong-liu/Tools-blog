---
import { Icon } from 'astro-icon/components';

import Link from '@/components/Link.astro';
import { ROUTES } from '@/constants/routes';
import { CONFIG_CLIENT } from '@/config/client';
// import { getLatestCommitInfo } from '@/libs/git';
import { shortDate } from '@/utils/datetime';
import { limitString, trimHttpProtocol } from '@/utils/strings';

const currentYear = new Date().getFullYear();
const { SITE_URL, AUTHOR_LINKEDIN, AUTHOR_GITHUB, REPO_URL } = CONFIG_CLIENT;
const domain = trimHttpProtocol(SITE_URL);
const messageLength = 20 as const;

// const { time, fullHash, message } = getLatestCommitInfo();

// const commitUrl = `${REPO_URL}/commit/${fullHash}`;
//
// const shortDateStr = shortDate(new Date(time));
// const trimmedMessage = limitString(message, messageLength);

// footer is full width for border, div has max-w
---

<!--set the background of the footer and remove the border-->
<footer class="border-0 py-8 px-4 bg-gradient-to-r from-blue-100 to-gray-200 dark:from-blue-800 dark:to-gray-700 text-gray-800 dark:text-gray-100">
  <div class="max-w-6xl md:mx-auto flex justify-center md:justify-start">
    <div class="flex justify-between gap-4 flex-col-reverse md:flex-row md:w-full">
       <!--left column-->
      <div class="flex items-center gap-2 flex-wrap text-sm text-content whitespace-nowrap">
        <!--<div class="flex items-center gap-2">-->
        <!--  <label class="font-bold">Latest commit:</label>-->
        <!--  <Link href={commitUrl} title={shortDateStr} target="_blank">-->
        <!--    {trimmedMessage}-->
        <!--  </Link>-->
        <!--</div>-->
        <div class="flex items-center gap-2">
          <label class="font-bold"> &#169;{currentYear} Blogsite. All rights reserved.</label>
          <!--<Link href={`${ROUTES.DESIGN}`} title="Design system">link</Link>-->
        </div>
      </div>

      <!-- right column -->
      <ul class="flex gap-2 flex-wrap xs:flex-nowrap lg:items-center">
        <li>
          <Link
            href="mailto:someone@example.com"
            target="_blank"
            rel="me noreferrer noopener"
            title="contact nemanjam by email"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="email" class="h-6 w-6 fill-current" />
            <!--<span>Email</span>-->
          </Link>
        </li>
        <li>
          <Link
            href='{AUTHOR_Twitter}'
            target="_blank"
            rel="me noreferrer noopener"
            title="nemanjam on Twitter"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="twitter" class="h-6 w-6 fill-current" />
            <!--<span>Email</span>-->
          </Link>
        </li>
        <li>
          <Link
            href={AUTHOR_GITHUB}
            target="_blank"
            rel="me noreferrer noopener"
            title="@nemanjam on Github"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="github" class="h-6 w-6 fill-current" />
            <!--<span>Github</span>-->
          </Link>
        </li>
        <li>
          <Link
            href={AUTHOR_LINKEDIN}
            target="_blank"
            rel="me noreferrer noopener"
            title="Nemanja on LinkedIn"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="linkedin" class="h-6 w-6 fill-current" />
            <!--<span>LinkedIn</span>-->
          </Link>
        </li>
        <li>
          <Link
            href={AUTHOR_LINKEDIN}
            target="_blank"
            rel="me noreferrer noopener"
            title="Nemanja on Facebook"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="facebook" class="h-6 w-6 fill-current" />
            <!--<span>LinkedIn</span>-->
          </Link>
        </li>
        <li>
          <Link
            href={AUTHOR_LINKEDIN}
            target="_blank"
            rel="me noreferrer noopener"
            title="Nemanja on Instagram"
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="instagram" class="h-6 w-6 fill-current" />
            <!--<span>LinkedIn</span>-->
          </Link>
        </li>
        <li>
          <Link
            href={ROUTES.API.FEED_RSS}
            title={`RSS feed for ${domain}`}
            class="flex items-center gap-2 text-base xs:text-lg"
            variant="link-nav"
          >
            <Icon name="rss" class="h-6 w-6 fill-current" />
            <!--<span>RSS Feed</span>-->
          </Link>
        </li>
      </ul>
    </div>
  </div>
</footer>
